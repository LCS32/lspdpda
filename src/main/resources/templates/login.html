<!DOCTYPE html>

<html xmlns:th="https://www.thymeleaf.org"
	xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head th:replace="plantilla/template::head">
</head>
<body>
	<header th:replace="plantilla/template::header"></header>



	<!--CONTENIDO-->

	<div class="container d-flex justify-content-center">
		<div class="card">
			<div class="card-header d-flex justify-content-center">
				<ul class="nav nav-tabs">
					<li class="nav-item"><a class="nav-link active"
						th:href="@{/login}"> <i class="fa-solid fa-user"></i> Login
					</a>
					<li class="nav-item"><a class="nav-link"
						th:href="@{/usuario/registro}"> <i
							class="fa-solid fa-user-plus"></i> Registro
					</a></li>
				</ul>
			</div>

			<div class="card-body">

				<div th:if="${registroOK}"
					class="alert alert-success alert-dismissible fade show mt-2"
					role="alert">
					<p th:text="${registroOK}"></p>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true">x</span>
					</button>
				</div>

				<form th:action="@{/signin}" method="post">
					<div class="form-group mb-3">
						<label for="usuario" class="form-label"> Usuario:</label> <input
							type="text" class="form-control" id="usuario" name="usuario"
							placeholder="Nombre de usuario">

					</div>

					<div class="form-group mb-3">
						<label for="password" class="form-label"> Contraseña:</label> <input
							type="password" class="form-control" id="password"
							name="password" placeholder="Contraseña">

					</div>

					<div class="form-check">
						<input class="form-check-input" type="checkbox" value=""
							id="checkRememberMe" name="checkRememberMe"> <label
							class="form-check-label" for="checkRememberMe">
							Recordarme </label>
					</div>

					<div class="form-group mb-3 d-flex justify-content-center">
						<button type="submit" class="btn btn-success">
							<i class="fa-solid fa-right-to-bracket"></i> Iniciar Sesión
						</button>
					</div>
				</form>


				<p sec:authorize="isAuthenticated()">Ya has iniciado sesión</p>

				<div th:if="${param.error}"
					class="alert alert-danger alert-dismissible fade show mt-2">
					<p>Usuario o contraseña erroneo</p>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true"> x </span>
					</button>
				</div>

			</div>
		</div>
	</div>



</body>
<footer th:replace="plantilla/template::footer"></footer>
</html>